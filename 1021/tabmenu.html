<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>tabmenu</title>
	<link rel="stylesheet" href="../reset.css">
	<style>
		.tab-container {
			max-width: 1200px;
			margin: auto;
			display: flex;
		}

		#tabbox1,
		#tabbox2 {
			width: 50%;
			border: 1px solid #000;
		}

		.tab-menu {
			display: flex;
		}

		.tab-menu li {
			flex: 1;
		}

		.tab-menu li a {
			display: block;
			text-align: center;
			padding: 10px;
			border: 1px solid #ccc;
		}

		.tab-menu li a.on {
			background-color: rgb(253, 185, 96);
		}

		.tabs {
			position: relative;
			height: 80px;
		}

		.tab {
			position: absolute;
			width: 100%;
			height: 100%;
			background-color: bisque;
			display: none;
		}

		.tab.on {
			display: block;
		}
	</style>
</head>

<body>
	<div class="tab-container">
		<div id="tabbox1">
			<ul class="tab-menu">
				<li><a href="#tab1">menu1</a></li>
				<li><a href="#tab2">menu2</a></li>
				<li><a href="#tab3">menu3</a></li>
				<li><a href="#tab4">menu4</a></li>
			</ul>
			<div class="tabs">
				<div class="tab" id="tab1">tab1</div>
				<div class="tab" id="tab2">tab2</div>
				<div class="tab" id="tab3">tab3</div>
				<div class="tab" id="tab4">tab4</div>
			</div>
		</div>
		<div id="tabbox2">
			<ul class="tab-menu">
				<li><a href="#tab5">menu5</a></li>
				<li><a href="#tab6">menu6</a></li>
				<li><a href="#tab7">menu7</a></li>
				<li><a href="#tab8">menu8</a></li>
			</ul>
			<div class="tabs">
				<div class="tab" id="tab5">tab5</div>
				<div class="tab" id="tab6">tab6</div>
				<div class="tab" id="tab7">tab7</div>
				<div class="tab" id="tab8">tab8</div>
			</div>
		</div>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script>
		//--초기값 설정
		// $('ul.tab-menu li:first-child a').addClass('on')
		// $('.tab:first-child').addClass('on')

		const a_firsts = document.querySelectorAll('ul.tab-menu li:first-child a')

		for (let link of a_firsts) {
			link.classList.add('on')
		}
		const tabs_firsts = document.querySelectorAll('.tab:first-child')

		for (let tab of tabs_firsts) {
			tab.classList.add('on')
		}
		// --------------------------

		// $('ul.tab-menu li a').click(function(){
		// 	let href=$(this).attr('href')
		// 	$('ul.tab-menu li a').removeClass('on')
		// 	$(this).addClass('on')
		// 	$('.tab').removeClass('on')
		// 	$(href).addClass('on')
		// })

		tabFuc('#tabbox1')
		tabFuc('#tabbox2')

		// --------------------------

		// function tabFuc(target) {
		// 	//target 하위에 있는
		// 	$(target).find('ul.tab-menu li a').click(function () {
		// 		let href = $(this).attr('href')
		// 		$(target).find('ul.tab-menu li a').removeClass('on')
		// 		$(this).addClass('on')
		// 		$(target).find('.tab').removeClass('on')
		// 		$(href).addClass('on')
		// 	})
		// }

		function tabFuc(target) {
			//target 하위에 있는
			let targetElem = document.querySelector(target)
			let aElems = targetElem.querySelectorAll('ul.tab-menu li a')
	
			// $(target).find('ul.tab-menu li a').click(function ()
			aElems.forEach(function (aElem) {
				aElem.addEventListener('click', function (e) {
					e.preventDefault()

					// 	$(target).find('.tab').removeClass('on')
					// 	$(this).addClass('on')

					for (let menu of targetElem.querySelectorAll('ul.tab-menu li a')) {
						menu.classList.remove('on')
					}
					this.classList.add('on')

					// 	let href = $(this).attr('href')
					// 	$(target).find('.tab').removeClass('on')
					// 	$(href).addClass('on')

					let href = this.getAttribute('href')
					
					for (let tab of targetElem.querySelectorAll('.tab')) {
						tab.classList.remove('on')
					}
					targetElem.querySelector(href).classList.add('on')
				})


			})



		}



	</script>
</body>

</html>