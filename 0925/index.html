<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>세종문화</title>
	<link rel="stylesheet" href="./index.css">
</head>

<body>
	
	<figure>

		<video src="./image/연극트랩.mp4" loop muted></video>
	</figure>


	<section class="sect1">
		<article class="art1">
			<div class="title" data-bg="./image/연극트랩.mp4">
				<img class="line" src="./image/line.png" alt="">
				<div class="main_title">
					<p>하룻밤 놀이처럼 시작된 게임_부조리한 블랙코미디</p>
					<h2>서울시 극단〈트랩 Trap〉</h2>
					<p class="month">09.27 ~ 10.20 세종S씨어터</p>
				</div>
			</div>
			<div class="fade">
				<h3>프리드리히&nbsp;뒤렌마트의&nbsp;소설&nbsp;원작 </h3>
				<p>1945년 이후 독일어권에서 발표된 책 가운데최고의 작품이다.문학비평가 마르셀 라이히-라니키(marcel reich-ranicki) 지극히 현실적이지만 그래서 부조리한블랙코미디! '사고'처럼 작고
					평범한 일상의 우연한 사고 속에서 인간에 대한 다양한 관찰과 관점, 삶에 진지한 철학을 담는다.
				</p>

				<button><a href="./trap.html">more</a></button>
			</div>

		</article>
		<article class="art2">
			<div class="title" data-bg="./image/믹스드 오케스트라.mp4">
				<img class="line" src="./image/line.png" alt="">
				<div class="main_title">
					<p>우리음악을 표현하는 새로운 도구</p>
					<h2>믹스드 오케스트라<br />〈조화 그리고 에너지〉</h2>
					<p class="month">09.26 세종대극장</p>
				</div>

			</div>
			<div class="fade">
				<h3>경계를&nbsp;허무는&nbsp;울림의&nbsp;조화</h3>
				<p>서울시국악관현악단이 제안하는 이 시대의 새로운 한국음악<br />
					국악관현악을 중심으로 서양 관현악과 모듈러 신스가 결합해 새로운 한국적 사운드를 만들어낸다</p>

				<button><a href="./mixid.html">more</a></button>
			</div>
		</article>
		<article class="art3">
			<div class="title" data-bg="./image/서울시발레단.mp4">
				<img class="line" src="./image/line.png" alt="">
				<div class="main_title">
					<p>서울시발레단이 선보이는 컨템퍼러리 발레의 정수</p>
					<h2>더블 빌<br />〈한스 판 마넨×차진엽〉</h2>

				</div>

			</div>
			<div class="fade">
				<h3>한스&nbsp;판&nbsp;마넨&nbsp;스타일의&nbsp;정수판</h3>
				<p>장르나 형식의 경계를 넘어 그만의 새로운 예술언어를 개척하며 다각적인 작품 활동을 선보이고 있다<br />
					다채로운 관현악곡과 협주곡을 선보이며, 다양한 아티스트와의 협업을 통해 우리 음악의 우수성을 공유하면 대중성과 동시대성을 추구합니다.</p>

				<button><a href="./balet.html">more</a></button>
			</div>
		</article>
		<article class="art4">
			<div class="title" data-bg="./image/런던 심포니.mp4">
				<img class="line" src="./image/line.png" alt="">
				<div class="main_title">
					<p>런던 심포니 오케스트라 6년만의 내한</p>
					<h2>런던 심포니<br />안토니오 파파노 &<br />유자 왕</h2>
					<p class="month">10.01 세종대극장</p>
				</div>
			</div>
			<div class="fade">
				<h3>세계&nbsp;최고의&nbsp;오케스트라&nbsp;기획 시리즈</h3>
				<p>런던 심포니 오케스트라는 100년 전통의 음악성과 현대적 화려함이 공존하는 영국 대표 교향악단으로 2024/25 시즌 수석 지휘자로 취임하는 안토니오 파파노 경의 취임 이후 첫 아시아 투어이자
					6년 만의 내한공연이다.</p>

				<button><a href="./simponi.html">more</a></button>
			</div>
		</article>
	</section>
	<div class="frame">
		<div class="scene">

		</div>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script>

		const section = document.querySelector('section');
		const articles = document.querySelectorAll('article');
		const frame = document.querySelector('.frame'); // 하단영역
		const scene = document.querySelector('.scene'); // 불러들일 파일 공간
		let video = document.querySelector('video');

		articles.forEach((article) => {
			article.addEventListener('mouseenter', function () {
				this.classList.add('on');
				let bg = this.querySelector('.title').dataset.bg;

				video.setAttribute('src', bg)
				video.play();
				moveUp(h3);
			});

			const h3 = article.querySelector('h3')
		
			splitText(h3)
		

			article.addEventListener('mouseleave', function () {
				this.classList.remove('on');
				let video = document.querySelector('video')

				video.currentTime = 0;
				resetText(h3)
			});
		});

		document.querySelectorAll('button a').forEach((link) => {
			link.addEventListener('click', function (e) {
				e.preventDefault();
				const href = this.getAttribute('href');
				frame.style.top = '0';
				fetch(href)
					.then(res => res.text())
					.then(data => {
						scene.innerHTML = data;
						document.body.style.overflow = 'auto';
					});
			});
		});


		window.addEventListener('scroll', function () {

			if (window.scrollY === 0) {
				frame.style.top = '100%';
				document.body.style.overflow = 'hidden';
			}
		});


		// 글자나누기
		function splitText(el) {
			const txt = el.innerText
			let tags = ''
			txt.split('').forEach((letter) => {
				tags += `<span>${letter}</span>`
			})
			el.innerHTML = tags
		}

		function moveUp(el) {
			const spans = el.querySelectorAll('span')
			spans.forEach((span, i) => {
				span.style.transitionDelay = `${i * .1}s`
				span.style.transform = "translateY(0)"
				span.style.opacity = 1
			})
		}

		function resetText(el) {
			const spans = el.querySelectorAll('span')
			spans.forEach((span, i) => {
				span.style.transform = "translateY(100%)"
				span.style.opacity = 0
			})
		}



	</script>
</body>

</html>